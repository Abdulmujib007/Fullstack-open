{"version":3,"sources":["components/Filter.jsx","components/Personform.jsx","components/Persons.jsx","components/additions.jsx","components/Notification.jsx","App.js","index.js"],"names":["Filter","searchBy","handleSearchChange","value","onChange","Personform","addName","newName","handleNameChange","number","handleNumberChange","onSubmit","style","display","flexDirection","width","required","marginTop","type","Persons","persons","handleDelete","filter","name","toLowerCase","includes","map","valIndex","listStyle","onClick","id","newContent","axios","post","then","data","get","newObject","put","delete","Notification","message","padding","borderTop","borderBottom","color","marginBottom","App","useState","setPersons","setNewName","setNumber","setSearchBy","errorMessage","setErrorMessage","useEffect","personAdditions","initalPersons","catch","err","console","error","e","target","preventDefault","compare","toLocaleLowerCase","length","window","confirm","item","setTimeout","response","concat","uniqueid","deletedVal","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.61fd0810.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ searchBy, handleSearchChange }) => {\n  return (\n    <div>\n      <span>filter shown with </span>{\" \"}\n      <input value={searchBy} onChange={handleSearchChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Personform = ({\n  addName,\n  newName,\n  handleNameChange,\n  number,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={addName}>\n      <div style={{ display: \"flex\", flexDirection: \"column\", width: \"20%\" }}>\n        name: <input required value={newName} onChange={handleNameChange} />\n        <br />\n        number: <input required value={number} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button style={{ marginTop: \"5px\" }} type=\"submit\">\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default Personform;\n","import React from \"react\";\n\nconst Persons = ({ searchBy, persons, handleDelete }) => {\n  return (\n    <ul>\n      {searchBy\n        ? persons\n            .filter((value) =>\n              value.name.toLowerCase().includes(searchBy.toLowerCase())\n            )\n            .map((value, valIndex) => (\n              <li key={valIndex} style={{ listStyle: \"none\" }}>\n                {value.name} {value.number}{\" \"}\n                {<button onClick={() => handleDelete(value.id)}>delete</button>}\n              </li>\n            ))\n        : persons.map((value, valIndex) => (\n            <li key={valIndex} style={{ listStyle: \"none\", marginTop: \"1rem\" }}>\n              {value.name} {value.number}{\" \"}\n              {<button onClick={() => handleDelete(value.id)}>delete</button>}\n            </li>\n          ))}\n    </ul>\n  );\n};\nexport default Persons;\n","import axios from \"axios\";\n\nconst addMore = (newContent) => {\n  return axios\n    .post(\"http://localhost:3001/api/persons\", newContent)\n    .then(({ data }) => data);\n};\n\nconst getAll = () => {\n  return axios.get(\"http://localhost:3001/api/persons\").then(({ data }) => data);\n};\n\nconst update = (id, newObject) => {\n  return axios\n    .put(`http://localhost:3001/api/persons/${id}`, newObject)\n    .then(({ data }) => data);\n};\nconst deletePerson = (id) => {\n  return axios\n    .delete(`http://localhost:3001/api/persons/${id}`)\n    .then(({ data }) => data);\n};\n\nexport default { addMore, getAll, update, deletePerson };\n\n","import React from \"react\";\n// import './notification.css'\n\nconst Notification = ({ message }) => {\n    const green = { padding: \"0.5rem\",\n    borderTop: \"2px solid lightgreen\",\n    borderBottom: \"2px solid lightgreen\",\n    color: \"green\",\n    marginBottom : '1rem'}\n\n    const red = { padding: \"0.5rem\",\n    borderTop: \"2px solid red\",\n    borderBottom: \"2px solid red\",\n    color: \"red\",\n    marginBottom : '1rem'}\n  if (!message) return null;\n  return (\n    <div style={ message.includes('server') ? red : green }>\n      {message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Personform from \"./components/Personform\";\nimport Persons from \"./components/Persons\";\nimport personAdditions from \"./components/additions\";\nimport Notification  from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [searchBy, setSearchBy] = useState(\"\");\n  const [errorMessage,setErrorMessage] = useState('')\n\n  useEffect(() => {\n    personAdditions\n      .getAll()\n      .then((initalPersons) => setPersons(initalPersons))\n      .catch((err) => console.error(err));\n  }, []);\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleSearchChange = (e) => setSearchBy(e.target.value);\n  const handleNumberChange = (e) => setNumber(e.target.value);\n\n  const newContent = { name: newName, number: number };\n\n  const addName = (e) => {\n    e.preventDefault();\n    const compare = persons.filter(\n      (value) =>\n        value.name.toLocaleLowerCase() === newContent.name.toLocaleLowerCase()\n    )\n    compare.length ? (\n      <>\n        {window.confirm(\"This name already exist,replace the old number\") ===\n        true\n          ? personAdditions.update(compare[0].id, newContent).then((value) => {\n              setPersons(\n                persons.map((item) =>\n                  item.id !== compare[0].id ? item : value\n                )\n              );\n            })\n            .catch(err => {\n                setErrorMessage(`This name was already removed from the server`)\n                setTimeout(() => {\n                  setErrorMessage('')\n                },3000);\n            })\n          : \"\"}\n      </>\n    ) : (\n      personAdditions\n        .addMore(newContent)\n        .then((response) => \n        {\n          setPersons(persons.concat(response))\n          setErrorMessage(`Added  ${response.name}` \n          )\n          setTimeout(() => {\n             setErrorMessage('')\n          }, 3000);\n        })\n    );\n    setNewName(\"\");\n    setNumber(\"\");\n  };\n  const handleDelete = (uniqueid) => {\n    if (\n      window.confirm(\n        `Delete ${persons.filter(({ id }) => uniqueid === id)[0].name}`\n      ) === true\n    ) {\n      personAdditions.deletePerson(uniqueid).then((deletedVal) => {\n        setPersons(persons.filter(({ id }) => id !== uniqueid));\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message = {errorMessage}/>\n      <Filter searchBy={searchBy} handleSearchChange={handleSearchChange} />\n      <h3>Add a new</h3>\n      <Personform\n        addName={addName}\n        newName={newName}\n        number={number}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        searchBy={searchBy}\n        persons={persons}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}