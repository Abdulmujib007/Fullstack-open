(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),o=t(14),a=t.n(o),i=t(3),u=t(0),s=function(e){var n=e.searchBy,t=e.handleSearchChange;return Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:"filter shown with "})," ",Object(u.jsx)("input",{value:n,onChange:t})]})},l=function(e){var n=e.addName,t=e.newName,r=e.handleNameChange,c=e.number,o=e.handleNumberChange;return Object(u.jsxs)("form",{onSubmit:n,children:[Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"20%"},children:["name: ",Object(u.jsx)("input",{required:!0,value:t,onChange:r}),Object(u.jsx)("br",{}),"number: ",Object(u.jsx)("input",{required:!0,value:c,onChange:o})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{style:{marginTop:"5px"},type:"submit",children:"add"})})]})},d=function(e){var n=e.searchBy,t=e.persons,r=e.handleDelete;return Object(u.jsx)("ul",{children:n?t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e,n){return Object(u.jsxs)("li",{style:{listStyle:"none"},children:[e.name," ",e.number," ",Object(u.jsx)("button",{onClick:function(){return r(e.id)},children:"delete"})]},n)})):t.map((function(e,n){return Object(u.jsxs)("li",{style:{listStyle:"none",marginTop:"1rem"},children:[e.name," ",e.number," ",Object(u.jsx)("button",{onClick:function(){return r(e.id)},children:"delete"})]},n)}))})},h=t(4),j=t.n(h),b=function(e){return j.a.post("http://localhost:3001/api/persons",e).then((function(e){return e.data}))},m=function(){return j.a.get("http://localhost:3001/api/persons").then((function(e){return e.data}))},f=function(e,n){return j.a.put("http://localhost:3001/api/persons/".concat(e),n).then((function(e){return e.data}))},p=function(e){return j.a.delete("http://localhost:3001/api/persons/".concat(e)).then((function(e){return e.data}))},O=function(e){var n=e.message;return n?Object(u.jsx)("div",{style:n.includes("server")?{padding:"0.5rem",borderTop:"2px solid red",borderBottom:"2px solid red",color:"red",marginBottom:"1rem"}:{padding:"0.5rem",borderTop:"2px solid lightgreen",borderBottom:"2px solid lightgreen",color:"green",marginBottom:"1rem"},children:n}):null},x=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(""),a=Object(i.a)(o,2),h=a[0],j=a[1],x=Object(r.useState)(""),g=Object(i.a)(x,2),v=g[0],w=g[1],y=Object(r.useState)(""),C=Object(i.a)(y,2),S=C[0],B=C[1],N=Object(r.useState)(""),T=Object(i.a)(N,2),k=T[0],L=T[1];Object(r.useEffect)((function(){m().then((function(e){return c(e)})).catch((function(e){return console.error(e)}))}),[]);var D={name:h,number:v};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(O,{message:k}),Object(u.jsx)(s,{searchBy:S,handleSearchChange:function(e){return B(e.target.value)}}),Object(u.jsx)("h3",{children:"Add a new"}),Object(u.jsx)(l,{addName:function(e){e.preventDefault();var n=t.filter((function(e){return e.name.toLocaleLowerCase()===D.name.toLocaleLowerCase()}));n.length?(u.Fragment,!0===window.confirm("This name already exist,replace the old number")&&f(n[0].id,D).then((function(e){c(t.map((function(t){return t.id!==n[0].id?t:e})))})).catch((function(e){L("This name was already removed from the server"),setTimeout((function(){L("")}),3e3)}))):b(D).then((function(e){c(t.concat(e)),L("Added  ".concat(e.name)),setTimeout((function(){L("")}),3e3)})),j(""),w("")},newName:h,number:v,handleNameChange:function(e){j(e.target.value)},handleNumberChange:function(e){return w(e.target.value)}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(d,{searchBy:S,persons:t,handleDelete:function(e){!0===window.confirm("Delete ".concat(t.filter((function(n){var t=n.id;return e===t}))[0].name))&&p(e).then((function(n){c(t.filter((function(n){return n.id!==e})))}))}})]})};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.61fd0810.chunk.js.map